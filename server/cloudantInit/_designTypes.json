{
  "_id": "_design/types",
  "views": {
    "hangovers": {
      "map": "function (doc) {\n  if (doc.type === 'hangover') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "semesters": {
      "map": "function (doc) {\n  if (doc.type === 'semester') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "arrangements": {
      "map": "function (doc) {\n  if (doc.type === 'arrangement') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "albums": {
      "map": "function (doc) {\n  if (doc.type === 'album') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "concerts": {
      "map": "function (doc) {\n  if (doc.type === 'concert') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "album_formats": {
      "map": "function (doc) {\n  if (doc.type === 'album_format') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "arrangement_types": {
      "map": "function (doc) {\n  if (doc.type === 'arrangement_type') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "concert_types": {
      "map": "function (doc) {\n  if (doc.type === 'concert_type') {\n    emit(doc._id, 1);\n  }\n}"
    },
    "qualities": {
      "map": "function (doc) {\n  if (doc.type === 'quality') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "genres": {
      "map": "function (doc) {\n  if (doc.type === 'genre') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "artists": {
      "map": "function (doc) {\n  if (doc.type === 'artist') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "keys": {
      "map": "function (doc) {\n  if (doc.type === 'key') {\n    emit(doc._id, 1); \n  }\n}"
    },
    "arrangement_full": {
      "map": "function (doc) {\n  if (doc.type === 'arrangement') {\n    emit([doc._id]);\n\n    var singleFields = ['arrangementType', 'genre', 'key', 'quality', 'whenArranged'];\n    singleFields.forEach(function(field) {\n      if (typeof doc[field] === 'string') {\n        emit([doc._id, field], {_id: doc[field]});\n      }\n    });\n    \n    var multiFields = ['albums', 'arrangers', 'concerts', 'originalArtists', 'soloists', 'whenPerformed'];\n    multiFields.forEach(function(field) {\n      if (doc[field] && doc[field].length) {\n        for (var i = 0; i < doc[field].length; i++) {\n          emit([doc._id, field, i], {_id: doc[field][i]});\n        }\n      }\n    })\n  }\n}"
    },
    "hangover_full": {
      "map": "function (doc) {\n  if (doc.type === 'hangover') {\n    emit([doc._id]);\n    if (doc.graduationSemester) {\n      emit([doc._id, 'graduationSemester'], { _id: doc.graduationSemester });\n    }\n  } else if (doc.type === 'arrangement') {\n    var multiFields = ['arrangers', 'soloists'];\n    multiFields.forEach(function(field) {\n      if (doc[field] && doc[field].length) {\n        for (var i = 0; i < doc[field].length; i++) {\n          emit([doc[field][i], field], { _id: doc._id });\n        }\n      }\n    })\n  }\n}"
    },
    "semester_full": {
      "map": "function (doc) {\n  if (doc.type === 'semester') {\n    emit([doc._id]);\n  } else if (doc.type === 'arrangement') {\n    var singleFields = ['whenArranged'];\n    singleFields.forEach(function(field) {\n      if (doc[field]) {\n        emit([doc[field], field], { _id: doc._id });\n      }\n    });\n    \n    var multiFields = ['whenPerformed'];\n    multiFields.forEach(function(field) {\n      if (doc[field] && doc[field].length) {\n        for (var i = 0; i < doc[field].length; i++) {\n          emit([doc[field][i], field], { _id: doc._id });\n        }\n      }\n    })\n  } else if (doc.type === 'album') {\n    if (doc.semester) {\n      emit([doc.semester, 'albums'], { _id: doc._id });\n    }\n  } else if (doc.type === 'concert') {\n    if (doc.semester) {\n      emit([doc.semester, 'concerts'], { _id: doc._id });\n    }\n  } else if (doc.type === 'hangover') {\n    if (doc.graduationSemester) {\n      emit([doc.graduationSemester, 'graduatingHangs'], { _id: doc._id });\n    }\n  }\n}"
    }
  },
  "language": "javascript"
}
